(this.webpackJsonpmovie=this.webpackJsonpmovie||[]).push([[0],{88:function(e,t,c){},91:function(e,t,c){},95:function(e,t,c){},96:function(e,t,c){},97:function(e,t,c){},98:function(e,t,c){"use strict";c.r(t);var n=c(2),a=c(35),r=c.n(a),i=c(18),s=c.n(i),o=c(21),j=c(16),u=c(22),l=c.n(u),d=(c(23),c(100)),h=c(3),b=(c(88),c(10)),p=function(e){var t=e.id,c=e.title,n=e.description,a=e.genres,r=e.rating,i=e.imgPath,s=Object(b.f)(),o="https://image.tmdb.org/t/p/w200/"+i;return Object(h.jsxs)("div",{children:[Object(h.jsx)("h2",{children:c}),Object(h.jsx)("h3",{children:r}),Object(h.jsx)("h4",{children:a}),Object(h.jsxs)("div",{className:"box",children:[Object(h.jsx)("img",{src:o,alt:""}),Object(h.jsx)("p",{children:n})]}),Object(h.jsx)(d.a,{className:"ButtonView",onClick:function(){s.push("/movie/".concat(t))},children:" View More"}),Object(h.jsx)("hr",{})]})},m=function(e){var t=e.movies.map((function(t){var c=t.genre_ids.map((function(t){var c=e.genreList.find((function(e){return e.id==t}));return Object(h.jsx)("div",{children:c.name})}));return Object(h.jsx)(p,{id:t.id,title:t.original_title,description:t.overview,genres:c,rating:t.vote_average,imgPath:t.poster_path},t.poster_path)}));return Object(h.jsx)("div",{children:t})},O=c(53),f=(c(91),c(52).a.initializeApp({apiKey:"AIzaSyBGcqsSwamMYXl1C95KOdfhSkb9bMsViFM",authDomain:"the-movie-pal.firebaseapp.com",projectId:"the-movie-pal",storageBucket:"the-movie-pal.appspot.com",messagingSenderId:"679129437307",appId:"1:679129437307:web:37ce1430bec07a31b5fede"})),v=(c(95),function(e){var t=Array.from(e.searchHistory).map((function(t){return Object(h.jsx)("span",{children:Object(h.jsx)("label",{className:"searchHistory",onClick:e.Quicksearch(t),children:"".concat(t," ")},t)})}));return Object(h.jsx)("div",{className:"alignHorz",children:t})}),x=function(e){var t=Object(n.useState)(""),c=Object(j.a)(t,2),a=c[0],r=c[1],i=Object(n.useState)([]),u=Object(j.a)(i,2),l=u[0],d=u[1],b=f.firestore().collection("moviesearch");Object(n.useEffect)((function(){m(),f.firestore().collection("moviesearch").get()}),[b]);var p=function(){var e=Object(o.a)(s.a.mark((function e(t){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,b.where("term","==",t).get().then((function(e){b.add({term:t,created:new Date})}));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),m=function(){var e=[];return b.orderBy("created","desc").limit(5).get().then((function(t){t.forEach((function(t){e=[].concat(Object(O.a)(e),[t.data().term])})),d(e)})),e};return Object(h.jsxs)("div",{children:[Object(h.jsx)("div",{className:"ui segment",children:Object(h.jsx)("form",{onSubmit:function(t){t.preventDefault(),e.onSubmit(a),p(a)},className:"ui form",children:Object(h.jsxs)("div",{className:"field",children:[Object(h.jsx)("label",{children:"Movie Search"}),Object(h.jsx)("input",{type:"text",value:a,onChange:function(e){return r(e.target.value)}})]})})}),Object(h.jsx)(v,{searchHistory:l,Quicksearch:function(e){console.log(e)}})]})},g=c(27),w=(c(96),function(){var e=Object(b.f)();return Object(h.jsxs)("div",{className:"rectangle",children:[Object(h.jsx)("a",{className:"headerSearch",onClick:function(){e.push("/search")},children:"Search"}),Object(h.jsx)("a",{className:"headerPlay",onClick:function(){e.push("/")},children:"Playing Now"})]})}),y=c(99),N=(c(97),"78da18deb28f6efe0113be955d928e99"),k=function(e){var t=Object(n.useState)([]),c=Object(j.a)(t,2),a=c[0],r=c[1];return Object(n.useEffect)((function(){function t(){return(t=Object(o.a)(s.a.mark((function t(){var c;return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,l.a.get("https://api.themoviedb.org/3/movie/"+e.movieID+"?api_key="+N);case 2:c=t.sent,r(c.data);case 4:case"end":return t.stop()}}),t)})))).apply(this,arguments)}!function(){t.apply(this,arguments)}()}),[]),Object(h.jsx)("div",{className:"popup",children:Object(h.jsxs)("div",{className:"popup\\_inner",children:[Object(h.jsx)("button",{className:"close",onClick:console.log("close"),children:"X"}),0==a.length?Object(h.jsx)(y.a,{}):Object(h.jsxs)("div",{children:[Object(h.jsx)("h1",{children:a.original_title}),Object(h.jsxs)("div",{className:"popuprow",children:[Object(h.jsx)("img",{className:"popupimg",src:"https://image.tmdb.org/t/p/w200/"+a.poster_path,alt:""}),Object(h.jsx)("p",{className:"description",children:a.overview})]})]})]})})},S=function(){return Object(h.jsxs)("div",{className:"ui segment",children:[Object(h.jsx)("div",{className:"ui active inverted dimmer",children:Object(h.jsx)("div",{className:"ui large text loader",children:"Loading"})}),Object(h.jsx)("p",{})]})},_=function(){var e="78da18deb28f6efe0113be955d928e99",t=Object(n.useState)([]),c=Object(j.a)(t,2),a=c[0],r=c[1],i=Object(n.useState)([]),u=Object(j.a)(i,2),d=(u[0],u[1]),p=Object(n.useState)([]),O=Object(j.a)(p,2),f=O[0],v=O[1],y=Object(n.useState)([]),N=Object(j.a)(y,2),_=N[0],C=N[1];Object(n.useEffect)((function(){function t(){return(t=Object(o.a)(s.a.mark((function t(){var c,n;return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,l.a.get("https://api.themoviedb.org/3/movie/now_playing?api_key="+e);case 2:return c=t.sent,r(c.data.results.slice(0,5)),d(c.data.results),t.next=7,l.a.get("https://api.themoviedb.org/3/genre/movie/list?api_key="+e);case 7:n=t.sent,C(n.data.genres);case 9:case"end":return t.stop()}}),t)})))).apply(this,arguments)}!function(){t.apply(this,arguments)}()}),[]);var I=function(){var t=Object(o.a)(s.a.mark((function t(c){var n;return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,l.a.get("https://api.themoviedb.org/3/search/movie?api_key="+e+"&query="+c);case 2:n=t.sent,v(n.data.results);case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();return Object(h.jsx)("div",{children:Object(h.jsxs)(g.a,{children:[Object(h.jsx)(w,{}),Object(h.jsxs)(b.c,{children:[Object(h.jsxs)(b.a,{exact:!0,path:"/",children:[Object(h.jsx)("h1",{children:"Playing Now"}),0===a.length||0==_.length?Object(h.jsx)(S,{}):Object(h.jsx)(m,{movies:a,genreList:_})]}),Object(h.jsxs)(b.a,{path:"/search",children:[Object(h.jsx)(x,{onSubmit:I}),Object(h.jsx)(m,{movies:f,genreList:_})]}),Object(h.jsx)(b.a,{path:"/movie/:id",render:function(e){var t=e.match;return 0===a.length?Object(h.jsx)(S,{}):Object(h.jsx)(k,{movieID:t.params.id})}})]})]})})};r.a.render(Object(h.jsx)(_,{}),document.querySelector("#root"))}},[[98,1,2]]]);
//# sourceMappingURL=main.22d17278.chunk.js.map