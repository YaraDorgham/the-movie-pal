(this.webpackJsonpmovie=this.webpackJsonpmovie||[]).push([[0],{54:function(e,t,c){},55:function(e,t,c){},78:function(e,t,c){},82:function(e,t,c){},83:function(e,t,c){},84:function(e,t,c){"use strict";c.r(t);var n=c(2),r=c(43),a=c.n(r),s=c(12),i=c.n(s),o=c(19),u=c(17),j=(c(54),c(86)),l=c(10),p=c(85),b=(c(55),c(44)),d=c.n(b).a.create({baseURL:"https://api.themoviedb.org/3",params:{api_key:"78da18deb28f6efe0113be955d928e99"}}),h=c(3),f=function(e){var t=e.movieID,c=e.fullscreenpopup,r=e.close,a=Object(l.f)(),s=Object(n.useState)([]),j=Object(u.a)(s,2),b=j[0],f=j[1],O=Object(n.useState)(!1),m=Object(u.a)(O,2),v=m[0],x=m[1];Object(n.useEffect)((function(){function e(){return(e=Object(o.a)(i.a.mark((function e(){var c;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,d.get("/movie/"+t);case 2:c=e.sent,f(c.data);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}x(c),function(){e.apply(this,arguments)}()}),[]);return Object(h.jsx)("div",{className:!1===v?"popup":"popupfull",children:Object(h.jsxs)("div",{className:"popup\\_inner",children:[Object(h.jsx)("button",{className:"close",onClick:function(){1==c?a.goBack():r()},children:"X"}),0==b.length?Object(h.jsx)(p.a,{}):Object(h.jsxs)("div",{children:[Object(h.jsx)("h1",{children:b.original_title}),Object(h.jsxs)("div",{className:"popuprow",children:[Object(h.jsx)("img",{className:"popupimg",src:"https://image.tmdb.org/t/p/w200/"+b.poster_path,alt:""}),Object(h.jsx)("p",{className:"description",children:b.overview})]})]})]})})},O=function(e){var t=e.id,c=e.title,r=e.description,a=e.genres,s=e.rating,i=e.imgPath,o=e.playNow,p=Object(n.useState)(!1),b=Object(u.a)(p,2),d=b[0],O=b[1],m=Object(l.f)(),v="https://image.tmdb.org/t/p/w200/"+i;return Object(h.jsxs)("div",{children:[Object(h.jsx)("h2",{children:c}),Object(h.jsx)("h3",{children:s}),Object(h.jsx)("h4",{children:a}),Object(h.jsxs)("div",{className:"box",children:[Object(h.jsx)("img",{src:v,alt:""}),Object(h.jsx)("p",{children:r})]}),Object(h.jsxs)(j.a,{className:"ButtonView",onClick:function(){0==o?m.push("/movie/".concat(t)):O(!0)},children:[" ","View More"]}),1==d?Object(h.jsx)(f,{movieID:t,fullscreenpopup:!1,close:function(){O(!1)}}):null,Object(h.jsx)("hr",{})]})},m=function(e){var t=e.movies,c=e.genreList,n=e.playNow,r=t.map((function(e){var t=e.genre_ids.map((function(e){var t=c.find((function(t){return t.id==e}));return Object(h.jsx)("div",{children:t.name})}));return Object(h.jsx)(O,{id:e.id,title:e.original_title,description:e.overview,genres:t,rating:e.vote_average,imgPath:e.poster_path,playNow:n},e.poster_path)}));return Object(h.jsx)("div",{children:r})},v=c(48),x=(c(78),c(47).a.initializeApp({apiKey:"AIzaSyBGcqsSwamMYXl1C95KOdfhSkb9bMsViFM",authDomain:"the-movie-pal.firebaseapp.com",projectId:"the-movie-pal",storageBucket:"the-movie-pal.appspot.com",messagingSenderId:"679129437307",appId:"1:679129437307:web:37ce1430bec07a31b5fede"})),g=(c(82),function(e){var t=e.Quicksearch,c=e.searchHistory,n=Array.from(c).map((function(e){return Object(h.jsx)("span",{children:Object(h.jsx)("label",{className:"searchHistory",onClick:function(){return t(e)},children:"".concat(e," ")},e)})}));return Object(h.jsx)("div",{className:"alignHorz",children:n})}),w=function(e){var t=e.onSubmit,c=Object(n.useState)(""),r=Object(u.a)(c,2),a=r[0],s=r[1],j=Object(n.useState)([]),l=Object(u.a)(j,2),p=l[0],b=l[1],d=x.firestore().collection("moviesearch");Object(n.useEffect)((function(){(function(){var e=Object(o.a)(i.a.mark((function e(){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,O();case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[a]);var f=function(){var e=Object(o.a)(i.a.mark((function e(t){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:d.add({term:t,created:new Date});case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),O=function(){var e=Object(o.a)(i.a.mark((function e(){var t;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=[],e.next=3,d.orderBy("created","desc").limit(5).get();case 3:e.sent.forEach((function(e){t=[].concat(Object(v.a)(t),[e.data().term])})),b(t);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(h.jsxs)("div",{children:[Object(h.jsx)("div",{className:"ui segment",children:Object(h.jsx)("form",{onSubmit:function(e){e.preventDefault(),t(a),f(a)},className:"ui form",children:Object(h.jsxs)("div",{className:"field",children:[Object(h.jsx)("label",{children:"Movie Search"}),Object(h.jsx)("input",{type:"text",value:a,onChange:function(e){return s(e.target.value)}})]})})}),Object(h.jsx)(g,{searchHistory:p,Quicksearch:function(e){return function(e){s(e),t(e),f(e)}(e)}})]})},y=c(21),N=(c(83),function(){var e=Object(l.f)();return Object(h.jsxs)("div",{className:"rectangle",children:[Object(h.jsx)("a",{className:"headerSearch",onClick:function(){e.push("/search")},children:"Search"}),Object(h.jsx)("a",{className:"headerPlay",onClick:function(){e.push("/")},children:"Playing Now"})]})}),k=function(){return Object(h.jsxs)("div",{className:"ui segment",children:[Object(h.jsx)("div",{className:"ui active inverted dimmer",children:Object(h.jsx)("div",{className:"ui large text loader",children:"Loading"})}),Object(h.jsx)("p",{})]})},S=function(){var e=Object(n.useState)([]),t=Object(u.a)(e,2),c=t[0],r=t[1],a=Object(n.useState)([]),s=Object(u.a)(a,2),j=s[0],p=s[1],b=Object(n.useState)([]),O=Object(u.a)(b,2),v=O[0],x=O[1];Object(n.useEffect)((function(){function e(){return(e=Object(o.a)(i.a.mark((function e(){var t,c;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,d.get("/movie/now_playing");case 2:return t=e.sent,r(t.data.results.slice(0,5)),e.next=6,d.get("/genre/movie/list");case 6:c=e.sent,x(c.data.genres);case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[]);var g=function(){var e=Object(o.a)(i.a.mark((function e(t){var c;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,d.get("/search/movie",{params:{query:t}});case 2:c=e.sent,p(c.data.results);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(h.jsx)("div",{children:Object(h.jsxs)(y.a,{children:[Object(h.jsx)(N,{}),Object(h.jsxs)(l.c,{children:[Object(h.jsxs)(l.a,{exact:!0,path:"/",children:[Object(h.jsx)("h1",{children:"Playing Now"}),0===c.length||0==v.length?Object(h.jsx)(k,{}):Object(h.jsx)(m,{movies:c,genreList:v,playNow:!0})]}),Object(h.jsxs)(l.a,{path:"/search",children:[Object(h.jsx)(w,{onSubmit:g}),Object(h.jsx)(m,{movies:j,genreList:v,playNow:!1})]}),Object(h.jsx)(l.a,{path:"/movie/:id",render:function(e){var t=e.match;return 0===c.length?Object(h.jsx)(k,{}):Object(h.jsx)(f,{movieID:t.params.id,fullscreenpopup:!0})}})]})]})})};a.a.render(Object(h.jsx)(S,{}),document.querySelector("#root"))}},[[84,1,2]]]);
//# sourceMappingURL=main.b13b603a.chunk.js.map