{"version":3,"sources":["MovieDetail.js","MovieList.js","firebase.js","SearchList.js","SearchBar.js","Header.js","Popup.js","Spinner.js","App.js","index.js"],"names":["MovieDetail","id","title","description","genres","rating","imgPath","history","useHistory","path","className","src","alt","Button","onClick","push","MovieList","props","movies","map","movie","movieGenre","genre_ids","idgenre","type","genreList","find","element","name","original_title","overview","vote_average","poster_path","fireDb","firebase","initializeApp","apiKey","authDomain","projectId","storageBucket","messagingSenderId","appId","SearchList","Array","from","searchHistory","search","Quicksearch","SearchBar","useState","term","setTerm","setSearchHistory","moviesRef","firestore","collection","useEffect","renderSearch","get","addSearch","obj","a","where","then","querySnapshot","add","created","Date","terms","orderBy","limit","forEach","doc","data","onSubmit","event","preventDefault","value","onChange","e","target","console","log","Header","api_key","Popup","setMovie","axios","movieID","response","fetchData","length","Spinner","App","setMovies","setallMovies","searchMovies","setSearchMovies","setGenres","results","slice","genresResponse","onSearchSubmit","exact","render","match","params","ReactDOM","document","querySelector"],"mappings":"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","file":"static/js/main.22d17278.chunk.js","sourcesContent":["import React from 'react';\r\nimport ModalPopup from './ModalPopup';\r\nimport './MovieDetail.css';\r\nimport { Button} from 'react-bootstrap';\r\nimport { useHistory } from 'react-router-dom'\r\n\r\nconst MovieDetail=({id,title, description, genres ,rating,imgPath})=>{\r\n    const history = useHistory();\r\n    const handleShow = () =>{ \r\n      \r\n       history.push(`/movie/${id}`);\r\n    } \r\n   \r\n    const path='https://image.tmdb.org/t/p/w200/' + imgPath;\r\n    \r\n    return(\r\n    <div>\r\n        <h2>{title}</h2>\r\n        <h3>{rating}</h3>\r\n        <h4>{genres}</h4>\r\n        <div className=\"box\">\r\n            <img src={path} alt=\"\" />\r\n            <p>{description}</p>\r\n        </div>\r\n        <Button className=\"ButtonView\" onClick={handleShow}> View More</Button>\r\n        <hr />\r\n    </div>\r\n    );\r\n}\r\nexport default MovieDetail;","import React from 'react';\r\nimport MovieDetail from './MovieDetail';\r\n\r\nconst MovieList =(props)=>{\r\n    \r\n    const movies=props.movies.map((movie)=>{\r\n        const movieGenre=movie.genre_ids.map((idgenre)=>{\r\n            const type=props.genreList.find(element => element.id == idgenre)\r\n            return <div>{type.name}</div>\r\n        });\r\n\r\n        return <MovieDetail key= {movie.poster_path} id={movie.id} title={movie.original_title} description={movie.overview} genres={movieGenre} rating={movie.vote_average} imgPath={movie.poster_path} />\r\n    });\r\n    return <div >{movies}</div>;\r\n};\r\n\r\nexport default MovieList;   ","import firebase from \"firebase\"; \r\n \r\n var firebaseConfig =  {\r\n    apiKey: \"AIzaSyBGcqsSwamMYXl1C95KOdfhSkb9bMsViFM\",\r\n    authDomain: \"the-movie-pal.firebaseapp.com\",\r\n    projectId: \"the-movie-pal\",\r\n    storageBucket: \"the-movie-pal.appspot.com\",\r\n    messagingSenderId: \"679129437307\",\r\n    appId: \"1:679129437307:web:37ce1430bec07a31b5fede\"\r\n  };\r\n\r\n  var fireDb = firebase.initializeApp(firebaseConfig);  \r\n  \r\nexport default fireDb;  ","import React from 'react';\r\nimport './searchList.css';\r\n\r\nconst SearchList =(props)=>{\r\n    const data = Array.from(props.searchHistory);\r\n    const history=data.map((search)=>{\r\n        return( \r\n        <span>\r\n        <label className=\"searchHistory\" key={search} onClick={props.Quicksearch(search)}>{`${search} `}</label>\r\n        </span>\r\n        );\r\n    });\r\n    return <div className=\"alignHorz\">{history}</div>;\r\n};\r\n\r\nexport default SearchList;","import React, { useState,useEffect } from 'react';\r\nimport './SearchBar.css';\r\nimport firebase from \"./firebase\";\r\nimport SearchList from './SearchList';\r\nimport { Spinner } from 'react-bootstrap';\r\nconst SearchBar =(props)=>{\r\n    const [term,setTerm]=useState('');\r\n    const [searchHistory,setSearchHistory]=useState([]);\r\n    var moviesRef = firebase.firestore().collection(\"moviesearch\"); \r\n    var data=[];\r\n    var searchTerms=[];\r\n    const onFormSubmit= (event)=>{\r\n        event.preventDefault();\r\n        props.onSubmit(term);\r\n        addSearch(term);\r\n    };\r\n\r\n\r\n    useEffect( ()=>{\r\n        renderSearch();\r\n        data = firebase.firestore().collection(\"moviesearch\").get();\r\n     \r\n         \r\n    },[moviesRef]);\r\n\r\n    \r\n\r\n    const search =(obj)=>{\r\n       \r\n       console.log(obj);\r\n\r\n    }\r\n\r\n \r\n\r\n    const addSearch = async(obj) => {  \r\n\r\n        await moviesRef\r\n        .where(\"term\", \"==\", obj).get()\r\n        .then(function(querySnapshot) {\r\n           \r\n         \r\n            moviesRef.add({term:obj,created: new Date()})\r\n                \r\n        });\r\n\r\n    };\r\n\r\n  const renderSearch = ()=>{\r\n    var terms=[];\r\n    moviesRef.orderBy(\"created\",\"desc\").limit(5).get().then((querySnapshot) => {\r\n        querySnapshot.forEach((doc) => {\r\n            terms=[...terms,doc.data().term]\r\n            \r\n        });\r\n        setSearchHistory(terms)\r\n    });\r\n  \r\n    return terms;\r\n  }\r\n\r\n   \r\n    return(\r\n        <div>\r\n        <div className=\"ui segment\">\r\n            <form onSubmit={onFormSubmit} className=\"ui form\">\r\n                <div className=\"field\">\r\n                    <label>Movie Search</label>\r\n                    <input \r\n                    type=\"text\" \r\n                    value={term} \r\n                    onChange={e => setTerm( e.target.value)}\r\n                    />\r\n\r\n                </div>\r\n            </form>\r\n        </div>\r\n         <SearchList searchHistory={searchHistory} Quicksearch={search}/>\r\n        \r\n        </div>\r\n       \r\n        \r\n        );\r\n};\r\n\r\n\r\nexport default SearchBar;","import React from 'react';\r\nimport { useHistory } from 'react-router-dom';\r\nimport './Header.css';\r\nconst Header =()=>{\r\n    const history = useHistory();\r\n\r\n    const gotoSearch =()=>{\r\n        history.push('/search')\r\n    }\r\n    const gotoPlaying =()=>{\r\n        history.push('/')\r\n    }\r\n    return(\r\n        <div className=\"rectangle\">\r\n            <a className=\"headerSearch\" onClick={gotoSearch} >Search</a>\r\n            <a className=\"headerPlay\" onClick={gotoPlaying} >Playing Now</a>\r\n        </div>\r\n    );\r\n\r\n};\r\n\r\nexport default Header;","import React,{useEffect,useState,useHistory} from 'react';  \r\nimport { Spinner } from 'react-bootstrap';\r\nimport './Popup.css';  \r\nimport axios from 'axios';\r\nconst api_key='78da18deb28f6efe0113be955d928e99'; \r\n\r\nconst Popup =(props)=>  {  \r\n    const [movie,setMovie]=useState([]);\r\n\r\nuseEffect( ()=>{\r\n\r\n    async function fetchData(){\r\n        const response= await axios.get('https://api.themoviedb.org/3/movie/'+props.movieID +'?api_key='+api_key);\r\n        setMovie(response.data);\r\n        \r\n       \r\n    }\r\n    fetchData()\r\n   \r\n     \r\n},[]);\r\n\r\n\r\nreturn (  \r\n\r\n<div className='popup' >  \r\n<div className='popup\\_inner'> \r\n<button className=\"close\" onClick={console.log(\"close\")}>X</button> \r\n{movie.length==0?<Spinner />: \r\n<div> \r\n    <h1>{ movie.original_title }</h1>  \r\n    <div className=\"popuprow\">\r\n        <img className=\"popupimg\" src={'https://image.tmdb.org/t/p/w200/'+  movie.poster_path} alt=\"\"></img>\r\n        <p className=\"description\">{movie.overview}</p>\r\n    </div>\r\n</div>\r\n}\r\n\r\n\r\n  \r\n</div>\r\n  \r\n</div>  \r\n);  \r\n \r\n}  \r\n\r\nexport default Popup;","import React from 'react';\r\nconst Spinner =()=>{\r\n\r\nreturn(\r\n    <div className=\"ui segment\">\r\n        <div className=\"ui active inverted dimmer\">\r\n             <div className=\"ui large text loader\">Loading</div>\r\n        </div>\r\n        <p></p>\r\n</div>\r\n\r\n);\r\n};\r\nexport default Spinner;","import React ,{useEffect, useState,useHistory}from 'react';\r\nimport axios from 'axios';\r\nimport MovieList from './MovieList';\r\nimport SearchBar from './SearchBar';\r\nimport { BrowserRouter, Route, Switch } from 'react-router-dom';\r\nimport Header from './Header';\r\nimport Popup from './Popup';\r\nimport Spinner from './Spinner';\r\n\r\nconst App =()=>{\r\n    const api_key='78da18deb28f6efe0113be955d928e99';   \r\n    const[movies,setMovies]=useState([]);\r\n    const[allmovies,setallMovies]=useState([]);\r\n    const[searchMovies,setSearchMovies]=useState([]);\r\n    const [genres,setGenres]=useState([]);\r\n   \r\n\r\n \r\n    useEffect( ()=>{\r\n \r\n        async function fetchData(){\r\n            const response= await axios.get('https://api.themoviedb.org/3/movie/now_playing?api_key='+api_key);\r\n            setMovies (response.data.results.slice(0,5));\r\n            setallMovies(response.data.results);\r\n            const genresResponse= await axios.get('https://api.themoviedb.org/3/genre/movie/list?api_key='+api_key);\r\n            setGenres(genresResponse.data.genres);\r\n          \r\n           \r\n        }\r\n        fetchData()\r\n         \r\n    },[]);\r\n\r\n    const onSearchSubmit = async(term)=>{\r\n        const response= await axios.get('https://api.themoviedb.org/3/search/movie?api_key='+api_key+'&query='+term); \r\n        setSearchMovies(response.data.results); \r\n        \r\n    }\r\n\r\n    return (\r\n        <div>\r\n            <BrowserRouter>\r\n            <Header />\r\n                <Switch>\r\n                    <Route exact path=\"/\">\r\n                    <h1>Playing Now</h1>\r\n                    {\r\n                        (movies.length===0||genres.length==0)? <Spinner />:<MovieList movies={movies} genreList={genres} /> \r\n                    }    \r\n                    </Route>\r\n                    <Route path=\"/search\">\r\n                         <SearchBar onSubmit={onSearchSubmit}/> \r\n                         <MovieList movies={searchMovies} genreList={genres}/> \r\n                    </Route >\r\n                   \r\n                    <Route  path=\"/movie/:id\" render={({match}) => (\r\n                        movies.length===0 ? <Spinner />: <Popup  movieID={match.params.id} />\r\n                    )} />\r\n\r\n               </Switch>\r\n            </BrowserRouter>\r\n             \r\n            \r\n            \r\n\r\n        </div>\r\n            );\r\n};\r\n\r\nexport default App;","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport App from './App';\r\n\r\n\r\nReactDOM.render(<App />,document.querySelector('#root'))"],"sourceRoot":""}